<!DOCTYPE html>
<html lang="en">
  <head>
    {{template "head" .}}
    <!-- STYLE CSS -->
    <link rel="stylesheet" href="/static/styles/style.css" />
    <!-- APP CSS -->
    <link rel="stylesheet" href="/static/styles/app.css" />
    <!-- PROFILE CSS -->
    <link rel="stylesheet" href="/static/styles/profile.css" />
    <title>Okumi - Profile</title>
  </head>
  <body>
    <main class="main" id="main">
      <!-- LOADER -->
      {{template "loader" .}}
      <!-- NAVBAR -->
      {{template "navbar" .}}
      <!-- MAIN CONTENT -->
      <div class="main-back" id="main-back">
        <div class="main-wrapper">
          <div class="btn-container">
            <a href="/" class="btn btn-primary btn-back" id="btn-back" accesskey="b" title="Go Back">
              <i class="ri-arrow-go-back-line"></i>
            </a>
          </div>

          <div class="profile-container">
            <div class="img-profile">
              <img
                      src="/static/assets/images/user.png"
                      alt="{{.User.Username}}"
                      style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;"
              />
              <strong>{{.User.Username}}</strong>
              <span>Member since {{.User.CreatedAt.Format "Jan 2, 2006"}}</span>
            </div>

            <div class="horizontal-rule"></div>

            <div class="info-profile">
              <div class="info-profile-box active" data-target="posts">
                <h6 id="created-posts">{{.Stats.PostCount}}</h6>
                <span>Created Posts</span>
              </div>
              <div class="info-profile-box" data-target="liked">
                <h6 id="liked-posts">{{.Stats.LikeCount}}</h6>
                <span>Liked Posts</span>
              </div>
              <div class="info-profile-box" data-target="disliked">
                <h6 id="disliked-posts">{{.Stats.DislikeCount}}</h6>
                <span>Disliked Posts</span>
              </div>
              <div class="info-profile-box" data-target="comments">
                <h6 id="commented-posts">{{.Stats.CommentCount}}</h6>
                <span>Comments</span>
              </div>
            </div>
          </div>

          <section class="posts" id="posts">
            <h3>Posts by @{{.User.Username}}</h3>
            <div class="cards-list" >
              {{if .Posts}}
              {{range .Posts}}
              {{ template "profile/post-section" . }}
              {{end}}
              {{else}}
              <p class="no-posts">No posts yet.</p>
              {{end}}
            </div>
          </section>

          <section class="posts" id="liked">
            <h3>Liked Posts</h3>
            <div class="cards-list">
              {{if .LikedPosts}}
              {{range .LikedPosts}}
              {{ template "profile/post-section" . }}
              {{end}}
              {{else}}
              <p class="no-posts">No liked posts.</p>
              {{end}}
            </div>
          </section>

          <section class="posts" id="disliked">
            <h3>Disliked Posts</h3>
            <div class="cards-list">
              {{if .DislikedPosts}}
              {{range .DislikedPosts}}
              {{ template "profile/post-section" . }}
              {{end}}
              {{else}}
              <p class="no-posts">No disliked posts.</p>
              {{end}}
            </div>
          </section>

          <section class="posts" id="comments">
            <h3>Comments</h3>
            <div class="comments-list">
              {{if .Comments}}
              {{range .Comments}}
              <div class="comment-card">
                <div class="comment-header">
                  <a href="/post/{{.PostID}}" class="comment-post-title">{{.PostTitle}}</a>
                  <span class="comment-date">{{.CreatedAt.Format "Jan 2, 2006 at 15:04"}}</span>
                </div>
                <p class="comment-content">{{.Content}}</p>
              </div>
              {{end}}
              {{else}}
              <p class="no-posts">No comments yet.</p>
              {{end}}
            </div>
          </section>
        </div>
      </div>
    </main>
    <script src="/static/scripts/main.js"></script>
    <script src="/static/scripts/app.js"></script>
    <script src="/static/scripts/profile.js"></script>
  </body>
</html>
