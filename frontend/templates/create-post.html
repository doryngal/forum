<!DOCTYPE html>
<html lang="en">
  <head>
    {{template "head" .}}
    <!-- STYLE CSS -->
    <link rel="stylesheet" href="/static/styles/style.css" />
    <!-- APP CSS -->
    <link rel="stylesheet" href="/static/styles/app.css" />
    <!-- CREATE POST CSS -->
    <link rel="stylesheet" href="/static/styles/create-post.css" />
    <title>Okumi - New Post</title>
  </head>
  <body>
    <main class="main" id="main">
      <!-- LOADER -->
      {{template "loader" .}}
      <!-- NAVBAR -->
      {{template "navbar" .}}
      <!-- MAIN CONTENT -->
      <div class="main-back" id="main-back">
        <div class="main-wrapper">
          <div class="btn-container">
            <a href="/" class="btn btn-primary btn-back" id="btn-back" accesskey="b" title="Go Back">
              <i class="ri-arrow-go-back-line"></i>
            </a>
          </div>

          <h2 class="title bw-100">New Post</h2>

          {{if .Error}}
          <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative">
            {{.Error}}
          </div>
          {{end}}

          <form action="/create-post" class="form-vertical" method="POST">
            <div class="form-control">
              <div class="form-wrapper">
                <input
                        class="input-field"
                        type="text"
                        name="title"
                        id="title"
                        required
                        maxlength="100"
                        autocomplete="off"
                        accesskey="1"
                        autofocus
                        {{if .Form.title}}value="{{.Form.title}}"{{end}}
                />
                <div class="horizontal-rule">
                  <div class="horizontal-shadow"></div>
                </div>
              </div>
              <label class="control-label" for="title">Title: max 100 symbols</label>
            </div>

            <label class="control-label">Select Categories:</label>
            <div class="form-control">
              <div class="category-checkboxes">
                {{range .Categories}}
                <label>
                  <input
                          type="checkbox"
                          name="categories"
                          value="{{.ID}}"
                          {{if $.SelectedCategories}}
                          {{range $.SelectedCategories}}
                          {{if eq . $.ID.String}}checked{{end}}
                          {{end}}
                          {{end}}
                  />
                  {{.Name}}
                </label><br>
                {{end}}
              </div>
            </div>

            <div class="form-control">
              <div class="form-wrapper">
                            <textarea
                                    class="input-field"
                                    name="message"
                                    id="message"
                                    required
                                    maxlength="2400"
                                    accesskey="3"
                                    cols="30"
                                    rows="10"
                            >{{if .Form.content}}{{.Form.content}}{{end}}</textarea>
                <div class="horizontal-rule">
                  <div class="horizontal-shadow"></div>
                </div>
              </div>
              <label class="control-label" for="message">Message: max 2400 symbols</label>
            </div>

            <button type="submit" class="btn bw-100 btn-primary">Create Post</button>
            <span class="bottom-text">Additionally you can attach the photo:</span>
            <button type="button" class="after-bottom-text" id="upload-image">Click here +</button>
          </form>
        </div>
      </div>
    </main>
    <script src="/static/scripts/main.js"></script>
    <script src="/static/scripts/app.js"></script>
    <script src="/static/scripts/create-post.js"></script>
  </body>
</html>
